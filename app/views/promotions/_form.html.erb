<%= form_with model: promotion do |f| %>
    <% if promotion.errors.any?%>
        <h4>Não foi possível. Encontramos alguns erros:</h4>
        <ul>
            <% promotion.errors.full_messages.each do |message|%>
                <li><%= message %></li>
        </ul>
            <% end %>
    <% end %>

    <div>
        <%= f.label :name %>
        <%= f.text_field :name %>
    </div>
    <div>
        <%= f.label :description %>
        <%= f.text_area :description %>
    </div>
    <div>
        <%= f.label :code %>
        <%= f.text_field :code %>
    </div>
    <div>
        <%= f.label :discount_rate %>
        <%= f.number_field :discount_rate, in: 0..100, step: 0.1 %>
    </div>
    <div>
        <%= f.label :coupon_quantity %>
        <%= f.number_field :coupon_quantity, min: 1 %>
    </div>
    <div>
        <%= f.label :expiration_date %>
        <%= f.text_field :expiration_date %> <!--Changed to text_field instead date_field to avoid date format issues-->
    </div>
    <% if @product_categories %>
        <div>
            <%= f.label :product_categories %>
            <%= f.collection_check_boxes :product_category_ids, @product_categories, :id, :name %>
        </div>
    <% end %>
    <%= f.submit %>
    <% end%>